## 해시의 개념

- **해시란?** 값을 해시 함수를 사용해 변환하고 이를 인덱스로 삼아 키와 값을 저장해 빠른 데이터 탐색을 제공하는 자료구조
  - 해시 테이블 = 키와 대응한 값이 저장되어 있는 공간
  - 버킷 = 해시 테이블의 각 데이터
- **해시의 특징**
  - 단방향이다. 키를 통해 값을 찾을 수 있지만, 값으로 키를 찾을 수는 없음
  - 찾고자 하는 값을 O(1)로 바로 찾을 수 있음
  - 값을 인덱스로 사용하려면 변환 과정이 필요
- **활용**
  - 코테에서는 특정 데이터를 탐색하는 횟수가 많을 경우 해시 고려
  - 비밀번호 관리 (해싱한 비밀번호 저장)
  - 데이터베이스 인덱싱

## 해시 함수

- 구현 시 고려할 점
  - 변환한 값은 해시 테이블의 크기를 넘으면 안됨
  - 변환한 값은 충돌은 최대한 적게 발생해야 함.
    - 충돌 = 서로 다른 두 키에 대해 해싱 함수를 적용한 결과가 동일한 것
    - 적게라고 쓴 이유는 충돌이 아예 없을 순 없기 때문
- 자주 사용하는 해시 함수
  - 나눗셈법 (소수로)
    - 소수 k로 값을 나눈 나머지 값을 인덱스로 사용함
    - 소수가 아니면 해시 충돌이 많이 일어남
    - 해시 테이블의 크기가 k가 되므로 아주 많은 데이터를 저장해야 하면 엄청 큰 소수가 필요
  - 곱셈법
    - (x\*A) % 1 한 값에 (A는 황금비)
    - 해시 테이블 크기 m을 곱하고
    - 정수 부분만 취해 해시테이블에 매핑
    - 황금비를 사용하므로 나눗셈법처럼 소수가 필요 없다는 장점. 해시 테이블 크기가 커져도 추가 작업이 필요 없음
  - 문자열 해싱
    - 문자열을 숫자로 변환하고 이 숫자들을 다항식의 값으로 변환해 해싱

## 충돌 처리

- 체이닝으로 처리
  - 충돌이 발생하면 해당 버킷에 연결 리스트로 같은 해시값을 가지는 데이터를 연결
  - 문제점
    - 해시 테이블 공간 활용성이 떨어진다. 충돌이 많아지면 연결 리스트가 길어지고 남는 공간이 있어 활용성이 별로
    - 충돌이 많은 경우 검색 성능이 떨어짐. 연결리스트가 긴 경우 맨 앞부터 데이터를 탐색해야 함.
- 개방 주소법으로 처리
  - 빈 버킷을 찾아 충돌값을 삽입함. 해시 테이블을 최대한 활용할 수 있어 체이닝보다 메모리를 더 효율적으로 사용한다.
  - 방법1: 선형 탐색
  - 방법2: 이중 해싱. 해시 함수를 N개 사용.

## 추가 공부

[코테에서의 활용]

- 특정 값이나 정보를 기준으로 검색이 잦거나
- 특정 정보와 매핑하는 값의 관계를 확인하는 작업이 있는 경우

[🤔 "해싱한" "비밀번호"라는 말이 이해가 안간다.]

- [해싱과 암호화는 어떻게 다른가요?](https://docs.tosspayments.com/blog/hashing-and-encryption-difference#%ED%95%B4%EC%8B%B1%EA%B3%BC-%EC%95%94%ED%98%B8%ED%99%94%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8B%A4%EB%A5%B8%EA%B0%80%EC%9A%94)
  - 해싱은 데이터를 고장된 길이의 문자열, 즉 해시로 변환하는 **일방향 함수**. 해시값만으로 원본 복구가 불가능함. 주로 데이터 무결성 확인, 비밀번호 안전하게 저장하는 용도로 사용됨
  - 암호화는 데이터를 암호화된 형태로 바꿔주는 **양방향 과정**. 암호화된 데이터는 다시 복호화가 가능. 해싱과 다르게 데이터를 안전하게 인코딩하고 필요할 때 원본 복구를 한다. (통신 중 민감 데이터 노출 방지, 데이터 저장시 보호)
- 해싱이랑 해시 테이블이 약간 혼동되어 헷갈렸던 것 같음. 해싱은 해시 함수로 데이터를 변환하는 것이고 해싱된 값을 인덱스로 활용하는 걸 해시 테이블이라고 한다.
